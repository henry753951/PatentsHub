model Agency {
  AgencyID Int                   @id @default(autoincrement())
  Name     String
  contacts AgencyContactPerson[]
  patents  AgencyPatent[]
}

model AgencyPatent {
  PatentID Int
  AgencyID Int
  FileCode String
  Role     String
  Details  String?
  patent   Patent  @relation(fields: [PatentID], references: [PatentID])
  agency   Agency  @relation(fields: [AgencyID], references: [AgencyID])

  @@id([PatentID, AgencyID])
}

model AgencyContactPerson {
  ContactPersonID Int          @id @default(autoincrement())
  AgencyID        Int
  Position        String
  ContactInfoID   Int?         @unique
  agency          Agency       @relation(fields: [AgencyID], references: [AgencyID])
  contactInfo     ContactInfo? @relation("AgencyContact", fields: [ContactInfoID], references: [ContactInfoID])
}
